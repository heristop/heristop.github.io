---
import Layout from "../layouts/Layout.astro";
import { Image } from 'astro:assets';

const linkfolioUrl = "https://heristop.vercel.app";

async function fetchUserConfig() {
  const response = await fetch(`${linkfolioUrl}/api/config`);
  const userConfig = await response.json();
  return userConfig;
}

const userConfig = await fetchUserConfig();

const delay = 100;

type NetworkType = {
  title: string;
  description: string;
  url: string;
  iconSrc: {
    src: string;
  };
};
---

<Layout title="ðŸ‘‹ About" description="About page">
  <blockquote>
    Hello, I'm <b>heristop</b>! I'm a Tech Lead with a passion for building web applications. I
    have experience working with a variety of technologies, including
    JavaScript, TypeScript, Vue, React, Node.js, PHP and Symfony. I'm always looking
    for new ways to improve my skills and learn new technologies.
  </blockquote>

  <section class="text-center my-8">
    <ul class="flex justify-center gap-x-4 font-bold text-sm">
      <li>ðŸ’¼ Chapter Lead</li>
      <li>ðŸŽ‚ 4 November</li>
      <li>ðŸ”— <a href="https://heristop.github.io/about">Permalink</a></li>
    </ul>
  </section>

  <h1>ðŸ”— LinkFolio</h1>

  <main class="flex flex-wrap gap-y-4 gap-x-20 justify-center">
    {
      userConfig.socialNetworks.map((network: NetworkType, index: number) => (
        <div
          class="network flex items-start justify-center p-2 w-full md:w-1/3 rounded-md hover:bg-[#F5EEE6] group transition duration-300 ease-in-out fade-in-up-bounce"
          style={`animation-delay: ${delay * index}ms`}
        >
          <a href={network.url} target="blank" class="group-hover:text-gray-800">
            <Image
              src={
                network.iconSrc.src
                  ? `${linkfolioUrl}/${network.iconSrc.src}`
                  : `${linkfolioUrl}/${network.iconSrc}`
              }
              alt={network.description}
              loading="eager"
              width={300}
              height={100}
              class="object-cover w-[300px] h-[100px] rounded-md overflow-hidden shadow-md opacity-90 group-hover:opacity-100"
            />

            <div class="px-2 py-0">
              <h2 class="text-lg mt-2 font-bold mb-2">{network.title}</h2>
              <p class=" text-gray-600 group-hover:text-gray-800 text-sm">
                {network.description}
              </p>
            </div>
          </a>
        </div>
      ))
    }
  </main>
</Layout>
