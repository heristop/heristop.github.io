---
import Layout from "../layouts/Layout.astro";

const linkfolioUrl = "https://heristop.vercel.app";

async function fetchUserConfig() {
  const response = await fetch(`${linkfolioUrl}/api/config`);
  const userConfig = await response.json();
  return userConfig;
}

const userConfig = await fetchUserConfig();

const delay = 100;

type NetworkType = {
  title: string;
  description: string;
  url: string;
  iconSrc: {
    src: string;
  };
};
---

<Layout title="ðŸ‘‹ About" description="About page">
  <blockquote class="font-weight-bold">
    Hello, I'm Alexandre! I work across both front-end and back-end
      systems. I enjoy finding ways to make software development processes
      more efficient and straightforward. I'm always looking for new ways to
      improve my skills and learn new technologies.
  </blockquote>

  <h1>ðŸ”— LinkFolio</h1>

  <main class="flex flex-wrap gap-y-4 gap-x-20 justify-center">
    {
      userConfig.socialNetworks.map((network: NetworkType, index: number) => (
        <div
          class="network flex items-start justify-center p-2 w-full md:w-1/3 rounded hover:bg-[#d6cebe] group transition duration-300 ease-in-out fade-in-up-bounce"
          style={`animation-delay: ${delay * index}ms`}
        >
          <a href={network.url} target="blank" class="group-hover:text-gray-800">
            <img
              src={
                network.iconSrc.src
                  ? `${linkfolioUrl}/${network.iconSrc.src}`
                  : `${linkfolioUrl}/${network.iconSrc}`
              }
              alt={network.description}
              width={300}
              height={100}
              class="object-cover w-[300px] h-[100px] rounded-lg overflow-hidden shadow-md opacity-80 group-hover:opacity-100"
            />

            <div class="px-2 py-0">
              <h2 class="text-xl font-bold mb-2">{network.title}</h2>
              <p class=" text-gray-600 group-hover:text-gray-800 text-sm">
                {network.description}
              </p>
            </div>
          </a>
        </div>
      ))
    }
  </main>

  <div class="eof text-sm">--EOF--</div>
</Layout>
