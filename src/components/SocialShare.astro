---
const { title, slug } = Astro.props;
const url = `https://heristop.github.io/blog/${slug}`;

const shareLinks = [
  {
    name: 'X',
    url: `https://x.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(title)}`,
    icon: `<path d="M4 4l11.733 16h4.267l-11.733 -16z"></path><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"></path>`
  },
  {
    name: 'LinkedIn',
    url: `https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}`,
    icon: `<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>`
  },
  {
    name: 'Reddit',
    url: `https://reddit.com/submit?url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}`,
    icon: `<circle cx="12" cy="12" r="10"></circle><path d="M7 15h10M8 9a3 3 0 1 1-3 3M16 9a3 3 0 1 1 3 3"></path>`
  }
];
---

<div class="flex space-x-3 mt-6 font-semibold">
  {shareLinks.map(link => (
    <a
      href={link.url}
      target="_blank"
      rel="noopener noreferrer"
      class="group inline-flex items-center px-4 py-2 bg-stone-400/20 text-stone-700 rounded-full hover:bg-stone-400/15 transition-colors duration-300 text-xs social-share-hover"
      aria-label={`Share on ${link.name}`}
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <Fragment set:html={link.icon} />
      </svg>
      <span>Share on {link.name}</span>
    </a>
  ))}
</div>

<style>
  .social-share-hover:hover {
    color: var(--link-color-secondary);
  }
</style>